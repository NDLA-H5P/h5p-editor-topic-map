(self.webpackChunkh5p_topic_map=self.webpackChunkh5p_topic_map||[]).push([[179],{42126:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__(3012).configure)([__webpack_require__(76625),__webpack_require__(27049)],module,!1)},31861:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{parameters:()=>parameters});__webpack_require__(47941),__webpack_require__(82526),__webpack_require__(57327),__webpack_require__(38880),__webpack_require__(89554),__webpack_require__(54747),__webpack_require__(49337),__webpack_require__(33321),__webpack_require__(69070);var client_api=__webpack_require__(78880),esm=__webpack_require__(23827),injectStylesIntoStyleTag=__webpack_require__(93379),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__(7795),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__(90569),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__(3565),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__(19216),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__(44589),styleTagTransform_default=__webpack_require__.n(styleTagTransform),styles=__webpack_require__(98099),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(styles.Z,options);styles.Z&&styles.Z.locals&&styles.Z.locals;var parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},options:{storySort:{order:["Atoms","Molecules","Organisms","Templates","Pages"]}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.kg.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return(0,client_api.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,client_api.HZ)(loader,!1)}));case"parameters":return(0,client_api.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,client_api.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,client_api._C)(enhancer)}));case"render":return(0,client_api.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,client_api.h1)(v,!1);default:return console.log(key+" was not supported :( !")}}))},76986:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__(3012)},22351:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Primary:()=>Primary});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _ContextMenu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(69403),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Molecules/ContextMenu",component:_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.x,args:{show:!0,onEdit:function onEdit(){return console.info("Edit clicked")},onDelete:function onDelete(){return console.info("Delete clicked")}}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{position:"absolute",left:"0px",top:"0px",transform:"translate(10%, 10%) translate(16px, 80px)",display:"inline-flex"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.x,Object.assign({},args))})};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:'args => (\n  <div\n    style={{\n      position: "absolute",\n      left: "0px",\n      top: "0px",\n      transform: "translate(10%, 10%) translate(16px, 80px)",\n      display: "inline-flex",\n    }}\n  >\n    <ContextMenu {...args} />\n  </div>\n)'}},Primary.parameters)},72652:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Primary:()=>Primary});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(69403),_ContextMenuButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(543),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Atoms/ContextMenuButton",component:_ContextMenuButton__WEBPACK_IMPORTED_MODULE_4__.l,args:{icon:_ContextMenu_ContextMenu__WEBPACK_IMPORTED_MODULE_3__.B.Delete,onClick:function onClick(){return console.info("Toolbar button clicked")},label:"Delete"}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ContextMenuButton__WEBPACK_IMPORTED_MODULE_4__.l,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"args => (\n  <ContextMenuButton {...args} />\n)"}},Primary.parameters)},18184:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Primary:()=>Primary});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _Draggable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(37984),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Molecules/Draggable",component:_Draggable__WEBPACK_IMPORTED_MODULE_3__._,args:{updatePosition:function updatePosition(newPos){return console.info("New position",newPos)},initialXPosition:200,initialYPosition:200,height:100,width:100,gapSize:10,gridIndicatorSize:10,gridSize:{width:200,height:100},initialHeight:45,initialWidth:95,id:"1",occupiedCells:[],backgroundImage:"https://images.unsplash.com/photo-1518701005037-d53b1f67bb1c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1326&q=80"}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Draggable__WEBPACK_IMPORTED_MODULE_3__._,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"args => (\n  <Draggable {...args} />\n)"}},Primary.parameters)},81915:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Empty:()=>Empty,GridWithDraggable:()=>GridWithDraggable});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _Grid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(91221),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Organisms/Grid",component:_Grid__WEBPACK_IMPORTED_MODULE_3__.r,args:{numberOfColumns:30,numberOfRows:30,initialItems:[],gapSize:8,updateItems:function updateItems(){return console.info("Items updated")}}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_3__.r,Object.assign({},args))};Template.displayName="Template";var Empty=Template.bind({});Empty.args={};var TemplateWithDraggable=function TemplateWithDraggable(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_3__.r,Object.assign({},args))};TemplateWithDraggable.displayName="TemplateWithDraggable";var GridWithDraggable=TemplateWithDraggable.bind({});GridWithDraggable.args={initialItems:[{id:"1",xPercentagePosition:25,yPercentagePosition:20,widthPercentage:10,heightPercentage:10,backgroundImage:{path:"https://images.unsplash.com/photo-1633498103165-98bcbed526ff?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q=80",alt:""},label:"Label 1",links:[]},{id:"2",xPercentagePosition:25,yPercentagePosition:60,widthPercentage:65,heightPercentage:32,backgroundImage:{path:"https://images.unsplash.com/photo-1601242454027-baa1bcf7ec1f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",alt:""},label:"Label 2",links:[]}]},Empty.parameters=Object.assign({storySource:{source:"args => <Grid {...args} />"}},Empty.parameters),GridWithDraggable.parameters=Object.assign({storySource:{source:"args => (\n  <Grid {...args} />\n)"}},GridWithDraggable.parameters)},12833:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Primary:()=>Primary});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _GridIndicator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(87334),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Atoms/GridIndicator",component:_GridIndicator__WEBPACK_IMPORTED_MODULE_3__.c};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_GridIndicator__WEBPACK_IMPORTED_MODULE_3__.c,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={onClick:function onClick(){return console.info("On click")},label:"Heihei"},Primary.parameters=Object.assign({storySource:{source:"args => (\n  <GridIndicator {...args} />\n)"}},Primary.parameters)},83717:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Empty:()=>Empty,FullscreenEmpty:()=>FullscreenEmpty,FullscreenWithItems:()=>FullscreenWithItems,WithItems:()=>WithItems,default:()=>MapEditorView_stories});__webpack_require__(19601),__webpack_require__(24812);var react=__webpack_require__(67294);__webpack_require__(79753),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(41539),__webpack_require__(32165),__webpack_require__(78783),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038);const MapEditorView_module_mapEditorView="cO6PG467LCSdQe2FOBUv",MapEditorView_module_gridBorder="MaCQUetTdQELrmgD0AVo";var Toolbar=__webpack_require__(98884),Grid=__webpack_require__(91221),jsx_runtime=__webpack_require__(85893);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var MapEditorView=function MapEditorView(_ref){var numberOfColumns=_ref.numberOfColumns,numberOfRows=_ref.numberOfRows,initialGridItems=_ref.initialGridItems,updateItems=_ref.updateItems,gapSize=_ref.gapSize,columns=null!=numberOfColumns?numberOfColumns:20,rows=null!=numberOfRows?numberOfRows:12,_React$useState2=_slicedToArray(react.useState(null),2),activeTool=_React$useState2[0],setActiveTool=_React$useState2[1],_React$useState4=_slicedToArray(react.useState(null!=initialGridItems?initialGridItems:[]),2),gridItems=_React$useState4[0],setGridItems=_React$useState4[1],setActive=function setActive(newValue){setActiveTool(newValue)},update=react.useCallback((function(items){updateItems(items),setGridItems(items)}),[updateItems]);return(0,jsx_runtime.jsxs)("div",{className:MapEditorView_module_mapEditorView,children:[(0,jsx_runtime.jsx)(Toolbar.o,{setActiveTool:setActive,activeTool}),(0,jsx_runtime.jsx)("div",{className:MapEditorView_module_gridBorder,children:(0,jsx_runtime.jsx)(Grid.r,{numberOfColumns:columns,numberOfRows:rows,initialItems:gridItems,updateItems:update,gapSize:null!=gapSize?gapSize:8,setActiveTool:setActive,activeTool})})]})};MapEditorView.displayName="MapEditorView";try{MapEditorView.displayName="MapEditorView",MapEditorView.__docgenInfo={description:"",displayName:"MapEditorView",props:{numberOfColumns:{defaultValue:null,description:"",name:"numberOfColumns",required:!1,type:{name:"number"}},numberOfRows:{defaultValue:null,description:"",name:"numberOfRows",required:!1,type:{name:"number"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!1,type:{name:"number"}},initialGridItems:{defaultValue:null,description:"",name:"initialGridItems",required:!0,type:{name:"TopicMapItem[]"}},updateItems:{defaultValue:null,description:"",name:"updateItems",required:!0,type:{name:"(items: TopicMapItem[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MapEditorView/MapEditorView.tsx#MapEditorView"]={docgenInfo:MapEditorView.__docgenInfo,name:"MapEditorView",path:"src/components/MapEditorView/MapEditorView.tsx#MapEditorView"})}catch(__react_docgen_typescript_loader_error){}const MapEditorView_stories={title:"Templates/MapEditorView",component:MapEditorView,args:{numberOfColumns:20,numberOfRows:12,updateItems:function updateItems(items){return console.info("Items updated",{items})}}};var Template=function Template(args){return(0,jsx_runtime.jsx)("div",{style:{width:"918px"},children:(0,jsx_runtime.jsx)(MapEditorView,Object.assign({},args))})};Template.displayName="Template";var Empty=Template.bind({});Empty.args={initialGridItems:[]};var withItemsItems=[{id:"1",xPercentagePosition:0,yPercentagePosition:0,widthPercentage:15,heightPercentage:20,backgroundImage:{path:"https://images.unsplash.com/photo-1546842931-886c185b4c8c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=770&q=80",alt:""},label:"Label 1",links:[]},{id:"2",xPercentagePosition:5,yPercentagePosition:30,widthPercentage:30,heightPercentage:20,backgroundImage:{path:"https://images.unsplash.com/photo-1470509037663-253afd7f0f51?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=987&q=80",alt:""},label:"Label 2",links:[]},{id:"3",xPercentagePosition:40,yPercentagePosition:30,widthPercentage:15,heightPercentage:50,backgroundImage:{path:"https://images.unsplash.com/photo-1527061011665-3652c757a4d4?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=772&q=80",alt:""},label:"Label 3",links:[]}],WithItems=Template.bind({});WithItems.args={initialGridItems:withItemsItems,updateItems:function updateItems(items){withItemsItems=items}};var TemplateFullscreen=function TemplateFullscreen(args){return(0,jsx_runtime.jsx)(MapEditorView,Object.assign({},args))};TemplateFullscreen.displayName="TemplateFullscreen";var FullscreenEmpty=TemplateFullscreen.bind({});FullscreenEmpty.args={};var FullscreenWithItems=TemplateFullscreen.bind({});FullscreenWithItems.args={initialGridItems:[{id:"1",xPercentagePosition:0,yPercentagePosition:0,widthPercentage:15,heightPercentage:20,backgroundImage:{path:"https://images.unsplash.com/photo-1601242453944-421cde7cfc84?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80",alt:""},label:"Label 1",links:[]},{id:"2",xPercentagePosition:5,yPercentagePosition:30,widthPercentage:30,heightPercentage:20,backgroundImage:{path:"https://images.unsplash.com/photo-1596985122625-faf96c53e0c6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1374&q=80",alt:""},label:"Label 2",links:[]},{id:"3",xPercentagePosition:40,yPercentagePosition:30,widthPercentage:15,heightPercentage:50,backgroundImage:{path:"https://images.unsplash.com/photo-1598328514034-58f20ba7d2d3?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1064&q=80",alt:""},label:"Label 3",links:[]}]},Empty.parameters=Object.assign({storySource:{source:'args => (\n  <div style={{ width: "918px" }}>\n    <MapEditorView {...args} />\n  </div>\n)'}},Empty.parameters),WithItems.parameters=Object.assign({storySource:{source:'args => (\n  <div style={{ width: "918px" }}>\n    <MapEditorView {...args} />\n  </div>\n)'}},WithItems.parameters),FullscreenEmpty.parameters=Object.assign({storySource:{source:"args => (\n  <MapEditorView {...args} />\n)"}},FullscreenEmpty.parameters),FullscreenWithItems.parameters=Object.assign({storySource:{source:"args => (\n  <MapEditorView {...args} />\n)"}},FullscreenWithItems.parameters)},12047:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Primary:()=>Primary});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _Toolbar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(98884),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Organisms/Toolbar",component:_Toolbar__WEBPACK_IMPORTED_MODULE_3__.o,ars:{setActiveTool:function setActiveTool(){return console.info("new active tool")}}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Toolbar__WEBPACK_IMPORTED_MODULE_3__.o,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"args => <Toolbar {...args} />"}},Primary.parameters)},54726:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Primary:()=>Primary,Active:()=>Active});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _Toolbar_Toolbar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(98884),_ToolbarButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82841),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Atoms/ToolbarButton",component:_ToolbarButton__WEBPACK_IMPORTED_MODULE_4__.h,args:{icon:_Toolbar_Toolbar__WEBPACK_IMPORTED_MODULE_3__.S.MapColor,onClick:function onClick(){return console.info("Toolbar button clicked")},label:"Map Color",showActive:!1,active:!1}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ToolbarButton__WEBPACK_IMPORTED_MODULE_4__.h,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={};var TemplateActive=function TemplateActive(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ToolbarButton__WEBPACK_IMPORTED_MODULE_4__.h,Object.assign({},args))};TemplateActive.displayName="TemplateActive";var Active=TemplateActive.bind({});Active.args={showActive:!0,active:!0},Primary.parameters=Object.assign({storySource:{source:"args => (\n  <ToolbarButton {...args} />\n)"}},Primary.parameters),Active.parameters=Object.assign({storySource:{source:"args => (\n  <ToolbarButton {...args} />\n)"}},Active.parameters)},69403:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>ContextMenu,B:()=>ContextMenuButtonType});__webpack_require__(67294);const ContextMenu_module_contextMenu="ibSHJWgb7pVu9j_5tc7O",ContextMenu_module_show="_tAAtdV_qPgGSXnjwfM3";var ContextMenuButtonType,ContextMenuButton=__webpack_require__(543),jsx_runtime=__webpack_require__(85893),labelTexts_edit="Edit",labelTexts_delete="Delete";!function(ContextMenuButtonType){ContextMenuButtonType.Edit="edit",ContextMenuButtonType.Delete="delete"}(ContextMenuButtonType||(ContextMenuButtonType={}));var ContextMenu=function ContextMenu(_ref){var show=_ref.show,onEdit=_ref.onEdit,onDelete=_ref.onDelete;return(0,jsx_runtime.jsxs)("div",{className:ContextMenu_module_contextMenu+" "+(show&&ContextMenu_module_show),children:[(0,jsx_runtime.jsx)(ContextMenuButton.l,{icon:ContextMenuButtonType.Edit,label:labelTexts_edit,onClick:onEdit}),(0,jsx_runtime.jsx)(ContextMenuButton.l,{icon:ContextMenuButtonType.Delete,label:labelTexts_delete,onClick:onDelete})]})};ContextMenu.displayName="ContextMenu";try{ContextMenu.displayName="ContextMenu",ContextMenu.__docgenInfo={description:"",displayName:"ContextMenu",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!0,type:{name:"MouseEventHandler<Element>"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ContextMenu/ContextMenu.tsx#ContextMenu"]={docgenInfo:ContextMenu.__docgenInfo,name:"ContextMenu",path:"src/components/ContextMenu/ContextMenu.tsx#ContextMenu"})}catch(__react_docgen_typescript_loader_error){}},543:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>ContextMenuButton});__webpack_require__(67294);const ContextMenuButton_module_contextMenuButton="Ys8JCMba3fPYlAVi3Vh5",ContextMenuButton_module_tooltip="VKMrA0U7xKeKwRmIunPp",ContextMenuButton_module_icon="DRjA06eFdkQcRCCnmWcq";var icons=__webpack_require__(16737),jsx_runtime=__webpack_require__(85893),ContextMenuButton=function ContextMenuButton(_ref){var icon=_ref.icon,label=_ref.label,onClick=_ref.onClick;return(0,jsx_runtime.jsxs)("button",{type:"button",className:ContextMenuButton_module_contextMenuButton,onClick,"aria-label":label,children:[(0,jsx_runtime.jsx)(icons.P,{icon,className:ContextMenuButton_module_icon}),(0,jsx_runtime.jsx)("div",{className:ContextMenuButton_module_tooltip,children:label})]})};ContextMenuButton.displayName="ContextMenuButton";try{ContextMenuButton.displayName="ContextMenuButton",ContextMenuButton.__docgenInfo={description:"",displayName:"ContextMenuButton",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<Element>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ContextMenuButton/ContextMenuButton.tsx#ContextMenuButton"]={docgenInfo:ContextMenuButton.__docgenInfo,name:"ContextMenuButton",path:"src/components/ContextMenuButton/ContextMenuButton.tsx#ContextMenuButton"})}catch(__react_docgen_typescript_loader_error){}},37984:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>Draggable});__webpack_require__(19601),__webpack_require__(79753),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(41539),__webpack_require__(32165),__webpack_require__(78783),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038);var react=__webpack_require__(67294),clamp=function clamp(min,value,max){return Math.min(max,Math.max(min,value))},calculateClosestValidSizeComponent=function calculateClosestValidSizeComponent(attemptedSize,gapSize,gridIndicatorSize,gridSize){var stepSize=gridIndicatorSize+gapSize,stepNumber=attemptedSize/stepSize,smallerWidth=Math.floor(stepNumber)*stepSize-gapSize,largerWidth=Math.ceil(stepNumber)*stepSize-gapSize;return clamp(gridIndicatorSize,attemptedSize-smallerWidth<largerWidth-attemptedSize?smallerWidth:largerWidth,gridSize)},calculateClosestValidPositionComponent=function calculateClosestValidPositionComponent(position,gapSize,gridIndicatorSize,gridSizeComponent,elementSizeComponent){var stepSize=gridIndicatorSize+gapSize,closestInNegativeDirection=Math.floor(position/stepSize)*stepSize,closestInPositiveDirection=Math.ceil(position/stepSize)*stepSize,negativeIsClosest=Math.abs(position-closestInNegativeDirection)<Math.abs(position-closestInPositiveDirection);return clamp(0,negativeIsClosest?closestInNegativeDirection:closestInPositiveDirection,gridSizeComponent-elementSizeComponent)},getPointerPositionFromEvent=function getPointerPositionFromEvent(event){var pos;if(function isMouseEvent(event){return null!=event.clientX}(event)){pos={x:event.clientX,y:event.clientY}}else{var _event$touches$=event.touches[0];pos={x:_event$touches$.clientX,y:_event$touches$.clientY}}return pos},grid_utils=__webpack_require__(25740),ContextMenu=__webpack_require__(69403),capitalize=(__webpack_require__(69600),__webpack_require__(21249),__webpack_require__(23123),__webpack_require__(74916),function capitalize(str){return 0===str.length?"":str[0].toUpperCase()+str.slice(1)});const ScaleHandle_module={scaleHandle:"FFpjsyfNPZMVo0z70G2R",scaleHandleLeft:"h3pscljbMGpLh_U2OHn4",scaleHandleTopLeft:"qhOMS7HGH9JWAhWJDagR",scaleHandleBottomLeft:"WmG5JrFmOENLpMq09mK_",scaleHandleRight:"CvpXtN69Y6ku_PgJ_GPH",scaleHandleTopRight:"uDQeZeUSRngSl5TICKfK",scaleHandleBottomRight:"xBNd6dBM1Wuj8Ql5tOPj",scaleHandleTop:"jGW6rAKfnBJUMvwgoXMX",scaleHandleBottom:"UhH_LBJBSoEd_WhnxaUm"};var jsx_runtime=__webpack_require__(85893);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ScaleHandle=function ScaleHandle(_ref){var labelText=_ref.labelText,position=_ref.position,onScaleStop=_ref.onScaleStop,onScaleStart=_ref.onScaleStart,_React$useState2=_slicedToArray(react.useState(!1),2),isDragging=_React$useState2[0],setIsDragging=_React$useState2[1],elementRef=react.useRef(null),className=ScaleHandle_module["scaleHandle"+position.split("-").map(capitalize).join("")],startDrag=react.useCallback((function(event){setIsDragging(!0),onScaleStart(),event.stopPropagation()}),[onScaleStart]),stopDrag=react.useCallback((function(){isDragging&&(setIsDragging(!1),onScaleStop())}),[isDragging,onScaleStop]);return react.useEffect((function(){return window.addEventListener("mouseup",stopDrag),window.addEventListener("touchend",stopDrag),function(){window.removeEventListener("mouseup",stopDrag),window.removeEventListener("touchend",stopDrag)}}),[stopDrag]),(0,jsx_runtime.jsx)("div",{ref:elementRef,role:"button",tabIndex:0,className:ScaleHandle_module.scaleHandle+" "+className,"aria-label":labelText,onMouseDown:startDrag,onTouchStart:startDrag})};ScaleHandle.displayName="ScaleHandle";try{ScaleHandle.displayName="ScaleHandle",ScaleHandle.__docgenInfo={description:"",displayName:"ScaleHandle",props:{labelText:{defaultValue:null,description:"",name:"labelText",required:!0,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top-right"'},{value:'"bottom-right"'},{value:'"bottom-left"'},{value:'"top-left"'}]}},onScaleStop:{defaultValue:null,description:"",name:"onScaleStop",required:!0,type:{name:"() => void"}},onScaleStart:{defaultValue:null,description:"",name:"onScaleStart",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ScaleHandle/ScaleHandle.tsx#ScaleHandle"]={docgenInfo:ScaleHandle.__docgenInfo,name:"ScaleHandle",path:"src/components/ScaleHandle/ScaleHandle.tsx#ScaleHandle"})}catch(__react_docgen_typescript_loader_error){}const Draggable_module_draggable="ULPwYkEYyVpUU_pxZpQD",Draggable_module_preview="FwdxgkkK5IDJaq5_vndi";function Draggable_slicedToArray(arr,i){return function Draggable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Draggable_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Draggable_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Draggable_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Draggable_arrayLikeToArray(o,minLen)}(arr,i)||function Draggable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Draggable_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var labelTexts_selected="Press arrow keys to move. Press escape to unselect.",labelTexts_notSelected="Press enter to select",Draggable=function Draggable(_ref){var id=_ref.id,initialXPosition=_ref.initialXPosition,initialYPosition=_ref.initialYPosition,updatePosition=_ref.updatePosition,initialWidth=_ref.initialWidth,initialHeight=_ref.initialHeight,gapSize=_ref.gapSize,gridIndicatorSize=_ref.gridIndicatorSize,gridSize=_ref.gridSize,occupiedCells=_ref.occupiedCells,isPreview=_ref.isPreview,deleteItem=_ref.deleteItem,setSelectedItem=_ref.setSelectedItem,selectedItem=_ref.selectedItem,startResize=_ref.startResize,backgroundImage=_ref.backgroundImage,_React$useState2=Draggable_slicedToArray(react.useState(!1),2),isDragging=_React$useState2[0],setIsDragging=_React$useState2[1],_React$useState4=Draggable_slicedToArray(react.useState(selectedItem===id),2),isSelected=_React$useState4[0],setIsSelected=_React$useState4[1],_React$useState6=Draggable_slicedToArray(react.useState(labelTexts_notSelected),2),labelText=_React$useState6[0],setLabelText=_React$useState6[1],_React$useState8=Draggable_slicedToArray(react.useState(null),2),pointerStartPosition=_React$useState8[0],setPointerStartPosition=_React$useState8[1],_React$useState10=Draggable_slicedToArray(react.useState({width:calculateClosestValidSizeComponent(initialWidth,gapSize,gridIndicatorSize,gridSize.width),height:calculateClosestValidSizeComponent(initialHeight,gapSize,gridIndicatorSize,gridSize.height)}),2),_React$useState10$=_React$useState10[0],width=_React$useState10$.width,height=_React$useState10$.height,setSize=_React$useState10[1],_React$useState12=Draggable_slicedToArray(react.useState({x:calculateClosestValidPositionComponent(initialXPosition,gapSize,gridIndicatorSize,gridSize.width,width),y:calculateClosestValidPositionComponent(initialYPosition,gapSize,gridIndicatorSize,gridSize.height,height)}),2),position=_React$useState12[0],setPosition=_React$useState12[1],_React$useState14=Draggable_slicedToArray(react.useState(Object.assign({},position)),2),previousPosition=_React$useState14[0],setPreviousPosition=_React$useState14[1],_React$useState16=Draggable_slicedToArray(react.useState(),2),isResizing=_React$useState16[0],setIsResizing=_React$useState16[1];react.useEffect((function(){return setSize({width:calculateClosestValidSizeComponent(initialWidth,gapSize,gridIndicatorSize,gridSize.width),height:calculateClosestValidSizeComponent(initialHeight,gapSize,gridIndicatorSize,gridSize.height)})}),[gapSize,gridIndicatorSize,gridSize.height,gridSize.width,initialHeight,initialWidth]),react.useEffect((function(){setPosition({x:calculateClosestValidPositionComponent(initialXPosition,gapSize,gridIndicatorSize,gridSize.width,width),y:calculateClosestValidPositionComponent(initialYPosition,gapSize,gridIndicatorSize,gridSize.height,height)})}),[gapSize,gridIndicatorSize,gridSize.height,gridSize.width,height,initialXPosition,initialYPosition,width]);var elementRef=react.useRef(null),startDrag=react.useCallback((function(event){setIsDragging(!0),setIsSelected(!0),setSelectedItem(id);var _getPointerPositionFr=getPointerPositionFromEvent(event),x=_getPointerPositionFr.x,y=_getPointerPositionFr.y;setPointerStartPosition({x:x-position.x,y:y-position.y})}),[setSelectedItem,id,position]),getNewPosition=react.useCallback((function(x,y){return{x,y}}),[]),getClosestValidXPosition=react.useCallback((function(pointerX){return calculateClosestValidPositionComponent(pointerX,gapSize,gridIndicatorSize,gridSize.width,width)}),[gapSize,gridIndicatorSize,gridSize.width,width]),getClosestValidYPosition=react.useCallback((function(pointerY){return calculateClosestValidPositionComponent(pointerY,gapSize,gridIndicatorSize,gridSize.height,height)}),[gapSize,gridIndicatorSize,gridSize.height,height]),checkIfPositionIsFree=react.useCallback((function(newPosition){return(0,grid_utils.vN)(newPosition,id,{width,height},gridSize,gapSize,gridIndicatorSize,occupiedCells)}),[gapSize,gridIndicatorSize,gridSize,height,id,occupiedCells,width]),stopDrag=react.useCallback((function(){var x=position.x,y=position.y,closestValidXPosition=getClosestValidXPosition(x),closestValidYPosition=getClosestValidYPosition(y);if(null!=closestValidXPosition&&null!=closestValidYPosition){var _newPosition=getNewPosition(closestValidXPosition,closestValidYPosition);checkIfPositionIsFree(_newPosition)?(setPosition(_newPosition),updatePosition(_newPosition),setPreviousPosition(_newPosition)):setPosition(previousPosition)}setPointerStartPosition(null),setIsDragging(!1)}),[position,getClosestValidXPosition,getClosestValidYPosition,getNewPosition,checkIfPositionIsFree,updatePosition,previousPosition]),drag=react.useCallback((function(event){if(isDragging&&pointerStartPosition){var _getPointerPositionFr2=getPointerPositionFromEvent(event),x=_getPointerPositionFr2.x,y=_getPointerPositionFr2.y,newPosition=getNewPosition(x-pointerStartPosition.x,y-pointerStartPosition.y);setPosition(newPosition)}}),[getNewPosition,isDragging,pointerStartPosition]),preventDefault=react.useCallback((function(event){event.preventDefault()}),[]);react.useEffect((function(){setLabelText(isSelected?labelTexts_selected:labelTexts_notSelected)}),[isSelected]);react.useEffect((function(){return window.addEventListener("mousemove",drag),window.addEventListener("touchmove",drag),function(){window.removeEventListener("mousemove",drag),window.removeEventListener("touchmove",drag)}}),[drag]);var stopScaling=react.useCallback((function(scaledPosition){stopDrag(),setIsResizing(!1)}),[stopDrag]);return(0,jsx_runtime.jsxs)("div",{ref:elementRef,role:"button",tabIndex:0,draggable:"true",onDragStart:preventDefault,"aria-grabbed":isDragging,className:Draggable_module_draggable+" "+(isPreview&&Draggable_module_preview),onMouseDown:startDrag,onTouchStart:startDrag,style:{backgroundImage:backgroundImage?"url('"+backgroundImage+"')":void 0,transform:"translateX("+position.x+"px) translateY("+position.y+"px)",width:width+2,height:height+2,zIndex:isDragging||selectedItem===id?2:void 0,pointerEvents:isPreview||isResizing?"none":void 0},"aria-label":labelText,onMouseUp:stopDrag,onTouchEnd:stopDrag,children:[(0,jsx_runtime.jsx)(ScaleHandle,{position:"top",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("horizontal")},onScaleStop:function onScaleStop(){return stopScaling("top")},labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"top-right",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize(null)},onScaleStop:function onScaleStop(){return stopScaling("top-right")},labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"right",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("vertical")},onScaleStop:function onScaleStop(){return stopScaling("right")},labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"bottom-right",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize(null)},onScaleStop:function onScaleStop(){return stopScaling("bottom-right")},labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"bottom",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("horizontal")},onScaleStop:function onScaleStop(){return stopScaling("bottom")},labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"bottom-left",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize(null)},onScaleStop:function onScaleStop(){return stopScaling("bottom-left")},labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"left",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize("vertical")},onScaleStop:function onScaleStop(){return stopScaling("left")},labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"top-left",onScaleStart:function onScaleStart(){setIsResizing(!0),startResize(null)},onScaleStop:function onScaleStop(){return stopScaling("top-left")},labelText:""}),(0,jsx_runtime.jsx)(ContextMenu.x,{onEdit:function onEdit(){return console.info("edit clicked")},onDelete:function onDelete(){return deleteItem(id)},show:selectedItem===id})]})};Draggable.displayName="Draggable";try{Draggable.displayName="Draggable",Draggable.__docgenInfo={description:"",displayName:"Draggable",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},initialXPosition:{defaultValue:null,description:"",name:"initialXPosition",required:!0,type:{name:"number"}},initialYPosition:{defaultValue:null,description:"",name:"initialYPosition",required:!0,type:{name:"number"}},updatePosition:{defaultValue:null,description:"",name:"updatePosition",required:!0,type:{name:"(newPosition: Position) => void"}},initialWidth:{defaultValue:null,description:"",name:"initialWidth",required:!0,type:{name:"number"}},initialHeight:{defaultValue:null,description:"",name:"initialHeight",required:!0,type:{name:"number"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!0,type:{name:"number"}},gridIndicatorSize:{defaultValue:null,description:"",name:"gridIndicatorSize",required:!0,type:{name:"number"}},gridSize:{defaultValue:null,description:"",name:"gridSize",required:!0,type:{name:"Size"}},occupiedCells:{defaultValue:null,description:"",name:"occupiedCells",required:!0,type:{name:"OccupiedCell[]"}},isPreview:{defaultValue:null,description:"",name:"isPreview",required:!0,type:{name:"boolean"}},deleteItem:{defaultValue:null,description:"",name:"deleteItem",required:!0,type:{name:"(item: string) => void"}},setSelectedItem:{defaultValue:null,description:"",name:"setSelectedItem",required:!0,type:{name:"(newItem: string | null) => void"}},selectedItem:{defaultValue:null,description:"",name:"selectedItem",required:!0,type:{name:"string | null"}},startResize:{defaultValue:null,description:"",name:"startResize",required:!0,type:{name:'(directionLock: "horizontal" | "vertical" | null) => void'}},backgroundImage:{defaultValue:null,description:"",name:"backgroundImage",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draggable/Draggable.tsx#Draggable"]={docgenInfo:Draggable.__docgenInfo,name:"Draggable",path:"src/components/Draggable/Draggable.tsx#Draggable"})}catch(__react_docgen_typescript_loader_error){}},91221:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>Grid});__webpack_require__(21249),__webpack_require__(19601),__webpack_require__(92222),__webpack_require__(43290),__webpack_require__(57327),__webpack_require__(79753),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(41539),__webpack_require__(32165),__webpack_require__(78783),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038);var react=__webpack_require__(67294),v4=__webpack_require__(44586),grid_utils=__webpack_require__(25740),Draggable=__webpack_require__(37984),GridIndicator=__webpack_require__(87334),Toolbar=__webpack_require__(98884);const Grid_module_grid="e8aFhKZF5kBFjZXkqI37";var jsx_runtime=__webpack_require__(85893);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Grid=function Grid(_ref){var numberOfColumns=_ref.numberOfColumns,numberOfRows=_ref.numberOfRows,initialItems=_ref.initialItems,updateItems=_ref.updateItems,gapSize=_ref.gapSize,setActiveTool=_ref.setActiveTool,activeTool=_ref.activeTool,_React$useState2=_slicedToArray(react.useState(),2),size=_React$useState2[0],setSize=_React$useState2[1],_React$useState4=_slicedToArray(react.useState(!1),2),hasRendered=_React$useState4[0],setHasRendered=_React$useState4[1],_React$useState6=_slicedToArray(react.useState(initialItems),2),items=_React$useState6[0],setItems=_React$useState6[1],_React$useState8=_slicedToArray(react.useState(null),2),selectedItem=_React$useState8[0],setSelectedItem=_React$useState8[1],_React$useState10=_slicedToArray(react.useState([]),2),occupiedCells=_React$useState10[0],setOccupiedCells=_React$useState10[1],_React$useState12=_slicedToArray(react.useState(null),2),boxStartPosition=_React$useState12[0],setBoxStartPosition=_React$useState12[1],_React$useState14=_slicedToArray(react.useState(items.length),2),currentItemsLength=_React$useState14[0],setCurrentItemsLength=_React$useState14[1],_React$useState16=_slicedToArray(react.useState(!1),2),isDragging=_React$useState16[0],setIsDragging=_React$useState16[1],_React$useState18=_slicedToArray(react.useState(),2),resizedItemId=_React$useState18[0],setResizedItemId=_React$useState18[1],_React$useState20=_slicedToArray(react.useState(),2),resizeDirectionLock=_React$useState20[0],setResizeDirectionLock=_React$useState20[1],elementRef=react.useRef(null),setSelected=react.useCallback((function(newItem){setSelectedItem(newItem)}),[]),getGridIndicatorSize=react.useCallback((function(){if(!elementRef.current)return 0;var gridIndicator=elementRef.current.querySelector(".grid-indicator");if(!gridIndicator)throw new Error("No grid indicators were rendered.");var width=gridIndicator.getBoundingClientRect().width;return Math.round(width*Math.pow(10,4))/Math.pow(10,4)}),[size]),gridIndicatorSize=react.useMemo(getGridIndicatorSize,[gapSize,getGridIndicatorSize,elementRef.current]),updateItemSize=react.useCallback((function(updatedItem,newSize){if(!size)throw new Error("Grid has no size.");var newItems=(0,grid_utils.$G)(items,updatedItem,size.width,size.height,{newSize});updateItems(newItems),setItems(newItems),setOccupiedCells((0,grid_utils.uf)(items.map((function(item){return(0,grid_utils.o2)(item,size)})),size.width,size.height,gapSize,gridIndicatorSize))}),[gapSize,gridIndicatorSize,items,size,updateItems]),createBoxStart=react.useCallback((function(index){activeTool===Toolbar.S.CreateBox&&(setBoxStartPosition(index),setIsDragging(!0))}),[activeTool]),createBoxEnd=react.useCallback((function(){activeTool===Toolbar.S.CreateBox&&(setIsDragging(!1),setBoxStartPosition(null),setCurrentItemsLength(items.length),setActiveTool(null),items[currentItemsLength]&&setSelectedItem(items[currentItemsLength].id))}),[activeTool,items,currentItemsLength,setActiveTool]),resizeBoxEnd=react.useCallback((function(){setResizedItemId(null),setBoxStartPosition(null),setResizeDirectionLock(null)}),[]),createBoxEnter=react.useCallback((function(indicatorIndex){if(activeTool===Toolbar.S.CreateBox&&isDragging||null!=resizedItemId){if(null==boxStartPosition)throw new Error("Box start position is not defined.");if(!size)throw new Error("Grid has no size.");var dragLeft=boxStartPosition%numberOfColumns>=indicatorIndex%numberOfColumns,dragUp=Math.floor(boxStartPosition/numberOfColumns)/numberOfRows*100>=Math.floor(indicatorIndex/numberOfColumns)/numberOfRows*100,x=dragLeft?indicatorIndex%numberOfColumns:boxStartPosition%numberOfColumns,y=dragUp?Math.floor(indicatorIndex/numberOfColumns):Math.floor(boxStartPosition/numberOfColumns),xPercentagePosition=x/numberOfColumns*100,yPercentagePosition=y/numberOfRows*100,heightPercentage=((dragUp?Math.floor(boxStartPosition/numberOfColumns):Math.floor(indicatorIndex/numberOfColumns))+1)/numberOfRows*100-yPercentagePosition,indicatorValue=dragLeft?boxStartPosition+1:indicatorIndex+1,widthPercentage=(indicatorValue%numberOfColumns==0?100:indicatorValue%numberOfColumns/numberOfColumns*100)-xPercentagePosition,id=null!=resizedItemId?resizedItemId:(0,v4.Z)(),alreadyAdded=items.length!==currentItemsLength&&null!=items[currentItemsLength],newItem={id,xPercentagePosition,yPercentagePosition,widthPercentage,heightPercentage,backgroundImage:{path:"",alt:""},label:"",links:[]},newPosition={x:(0,grid_utils.eZ)(xPercentagePosition,size.width),y:(0,grid_utils.$z)(yPercentagePosition,size.height)},newSize={width:(0,grid_utils.eZ)(widthPercentage,size.width),height:(0,grid_utils.$z)(heightPercentage,size.height)},posIsFree=(0,grid_utils.vN)(newPosition,alreadyAdded?items[currentItemsLength].id:id,newSize,size,gapSize,gridIndicatorSize,occupiedCells);if(posIsFree&&!alreadyAdded){var newItems=null!=resizedItemId?_toConsumableArray(items.map((function(item){if(item.id===resizedItemId)switch(resizeDirectionLock){case"horizontal":return Object.assign({},newItem,{widthPercentage:item.widthPercentage,xPercentagePosition:item.xPercentagePosition});case"vertical":return Object.assign({},newItem,{heightPercentage:item.heightPercentage,yPercentagePosition:item.yPercentagePosition});case null:return newItem}return item}))):[].concat(_toConsumableArray(items),[newItem]);updateItems(newItems),setItems(newItems)}if(posIsFree&&alreadyAdded&&!dragLeft&&!dragUp&&updateItemSize(items[currentItemsLength],newSize),posIsFree&&alreadyAdded&&(dragLeft||dragUp)){var _newItems=(0,grid_utils.$G)(items,items[currentItemsLength],size.width,size.height,{newPosition,newSize});updateItems(_newItems),setItems(_newItems)}}}),[activeTool,isDragging,resizedItemId,boxStartPosition,size,numberOfColumns,numberOfRows,currentItemsLength,items,gapSize,gridIndicatorSize,occupiedCells,updateItems,resizeDirectionLock,updateItemSize]),activeHoverOnGrid=react.useMemo((function(){switch(activeTool){case Toolbar.S.CreateBox:case Toolbar.S.CreateArrow:return!0;default:return!1}}),[activeTool]),gridIndicators=react.useMemo((function(){return Array(numberOfColumns*numberOfRows).fill(null).map((function(_,index){return(0,jsx_runtime.jsx)(GridIndicator.c,{index,label:"Click to create a new element",onClick:function onClick(){console.info("Click grid indicator"),setSelectedItem(null)},onMouseDown:createBoxStart,onMouseEnter:createBoxEnter,active:activeHoverOnGrid},"grid-indicator-"+index)}))}),[numberOfColumns,numberOfRows,activeTool,items,boxStartPosition,activeHoverOnGrid,currentItemsLength,isDragging]),updateItemPosition=react.useCallback((function(updatedItem,newPosition){if(!size)throw new Error("Grid has no size.");var newItems=(0,grid_utils.$G)(items,updatedItem,size.width,size.height,{newPosition});updateItems(newItems),setItems(newItems);var elements=items.map((function(item){return(0,grid_utils.o2)(item,size)})),newOccupiedCells=(0,grid_utils.uf)(elements,size.width,size.height,gapSize,gridIndicatorSize);setOccupiedCells(newOccupiedCells)}),[gapSize,gridIndicatorSize,items,size,updateItems]),deleteItem=react.useCallback((function(id){var newItems=items.filter((function(item){return item.id!==id}));updateItems(newItems),setItems(newItems),setCurrentItemsLength(newItems.length)}),[items,updateItems]),children=react.useMemo((function(){return null==gapSize||null==gridIndicatorSize||null==size?null:items.map((function(item){return(0,jsx_runtime.jsx)(Draggable._,{id:item.id,initialXPosition:(0,grid_utils.eZ)(item.xPercentagePosition,size.width),initialYPosition:(0,grid_utils.$z)(item.yPercentagePosition,size.height),updatePosition:function updatePosition(newPosition){return updateItemPosition(item,newPosition)},initialWidth:Math.abs((0,grid_utils.eZ)(item.widthPercentage,size.width)),initialHeight:Math.abs((0,grid_utils.$z)(item.heightPercentage,size.height)),gapSize,gridIndicatorSize,gridSize:size,occupiedCells,isPreview:isDragging,deleteItem,setSelectedItem:setSelected,selectedItem,startResize:function startResize(directionLock){var x=Math.floor(item.xPercentagePosition/100*numberOfColumns),y=Math.floor(item.yPercentagePosition/100*numberOfRows);setBoxStartPosition(x+y*numberOfColumns),setResizedItemId(item.id),setResizeDirectionLock(directionLock)},backgroundImage:item.backgroundImage.path},item.id)}))}),[gapSize,gridIndicatorSize,size,items,occupiedCells,isDragging,deleteItem,setSelected,selectedItem,updateItemPosition,numberOfColumns,numberOfRows]),resize=react.useCallback((function(){if(elementRef.current){var _elementRef$current$g=elementRef.current.getBoundingClientRect(),width=_elementRef$current$g.width,height=_elementRef$current$g.height;if(!(null==size)){var scaleFactor=(null==size?void 0:size.width)/width;1!==scaleFactor&&setItems((0,grid_utils.Ot)(items,scaleFactor))}setSize({width,height})}}),[items,size]);return react.useEffect((function(){hasRendered||(window.addEventListener("resize",resize),resize())}),[hasRendered,items,resize,size]),react.useEffect((function(){setHasRendered(!0)}),[]),react.useEffect((function(){resize()}),[numberOfColumns,numberOfRows]),react.useEffect((function(){size&&setOccupiedCells((0,grid_utils.uf)(items.map((function(item){return(0,grid_utils.o2)(item,size)})),size.width,size.height,gapSize,gridIndicatorSize))}),[gapSize,gridIndicatorSize,items,size]),(0,jsx_runtime.jsxs)("div",{ref:elementRef,role:"application",className:Grid_module_grid,style:{gap:gapSize+"px",gridTemplateColumns:"repeat("+numberOfColumns+", 1fr)",gridTemplateRows:"repeat("+numberOfRows+", 1fr)",cursor:isDragging?"pointer":"auto"},onMouseUp:function onMouseUp(){createBoxEnd(),resizeBoxEnd()},children:[children,gridIndicators]})};Grid.displayName="Grid";try{Grid.displayName="Grid",Grid.__docgenInfo={description:"",displayName:"Grid",props:{numberOfColumns:{defaultValue:null,description:"",name:"numberOfColumns",required:!0,type:{name:"number"}},numberOfRows:{defaultValue:null,description:"",name:"numberOfRows",required:!0,type:{name:"number"}},initialItems:{defaultValue:null,description:"",name:"initialItems",required:!0,type:{name:"TopicMapItem[]"}},updateItems:{defaultValue:null,description:"",name:"updateItems",required:!0,type:{name:"(items: TopicMapItem[]) => void"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!0,type:{name:"number"}},setActiveTool:{defaultValue:null,description:"",name:"setActiveTool",required:!0,type:{name:"(newValue: ToolbarButtonType | null) => void"}},activeTool:{defaultValue:null,description:"",name:"activeTool",required:!0,type:{name:"ToolbarButtonType | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/Grid.tsx#Grid"]={docgenInfo:Grid.__docgenInfo,name:"Grid",path:"src/components/Grid/Grid.tsx#Grid"})}catch(__react_docgen_typescript_loader_error){}},87334:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>GridIndicator});__webpack_require__(67294);const GridIndicator_module_gridIndicator="_FLfbcgH1Iy0kaHKrq3j",GridIndicator_module_active="F0_SNKoUqBDGrQTvCyvF";var jsx_runtime=__webpack_require__(85893),GridIndicator=function GridIndicator(_ref){var onClick=_ref.onClick,_onMouseDown=_ref.onMouseDown,_onMouseEnter=_ref.onMouseEnter,label=_ref.label,index=_ref.index,active=_ref.active;return(0,jsx_runtime.jsx)("button",{type:"button",className:"grid-indicator "+GridIndicator_module_gridIndicator+" "+(active&&GridIndicator_module_active),onClick,onMouseDown:function onMouseDown(){return _onMouseDown(index)},onMouseEnter:function onMouseEnter(){return _onMouseEnter(index)},onTouchStart:function onTouchStart(){return _onMouseDown(index)},onTouchMove:function onTouchMove(){return _onMouseEnter(index)},"aria-label":label})};GridIndicator.displayName="GridIndicator";try{GridIndicator.displayName="GridIndicator",GridIndicator.__docgenInfo={description:"",displayName:"GridIndicator",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<Element>"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!0,type:{name:"(index: number) => void"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!0,type:{name:"(index: number) => void"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GridIndicator/GridIndicator.tsx#GridIndicator"]={docgenInfo:GridIndicator.__docgenInfo,name:"GridIndicator",path:"src/components/GridIndicator/GridIndicator.tsx#GridIndicator"})}catch(__react_docgen_typescript_loader_error){}},98884:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>Toolbar,S:()=>ToolbarButtonType});__webpack_require__(79753),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(41539),__webpack_require__(32165),__webpack_require__(78783),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038);var react=__webpack_require__(67294);const Toolbar_module_toolbar="_WIweUxoS0tZe2z3cpD5";var ToolbarButton=__webpack_require__(82841),jsx_runtime=__webpack_require__(85893);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ToolbarButtonType,labelTexts_mapColor="Map color",labelTexts_createBox="Create box",labelTexts_createArrow="Create arrow";!function(ToolbarButtonType){ToolbarButtonType.MapColor="mapColor",ToolbarButtonType.CreateBox="createBox",ToolbarButtonType.CreateArrow="createArrow"}(ToolbarButtonType||(ToolbarButtonType={}));var Toolbar=function Toolbar(_ref){var setActiveTool=_ref.setActiveTool,activeTool=_ref.activeTool,_React$useState2=_slicedToArray(react.useState(activeTool),2),activeButton=_React$useState2[0],setActiveButton=_React$useState2[1],setActive=function setActive(newValue){setActiveButton(activeButton!==newValue?newValue:null),setActiveTool(activeButton!==newValue?newValue:null)},checkIfActive=react.useCallback((function(type){var activeB=activeButton===type,activeT=activeTool===type;return!(!activeB||!activeT)||!(!activeB||activeT)&&(setActiveButton(activeTool),!0)}),[activeButton,activeTool]);return(0,jsx_runtime.jsxs)("div",{className:Toolbar_module_toolbar,children:[(0,jsx_runtime.jsx)(ToolbarButton.h,{icon:ToolbarButtonType.MapColor,label:labelTexts_mapColor,onClick:function onClick(){return setActive(ToolbarButtonType.MapColor)},active:checkIfActive(ToolbarButtonType.MapColor),showActive:!1}),(0,jsx_runtime.jsx)(ToolbarButton.h,{icon:ToolbarButtonType.CreateBox,label:labelTexts_createBox,onClick:function onClick(){return setActive(ToolbarButtonType.CreateBox)},active:checkIfActive(ToolbarButtonType.CreateBox),showActive:!0}),(0,jsx_runtime.jsx)(ToolbarButton.h,{icon:ToolbarButtonType.CreateArrow,label:labelTexts_createArrow,onClick:function onClick(){return setActive(ToolbarButtonType.CreateArrow)},active:checkIfActive(ToolbarButtonType.CreateArrow),showActive:!0})]})};Toolbar.displayName="Toolbar";try{Toolbar.displayName="Toolbar",Toolbar.__docgenInfo={description:"",displayName:"Toolbar",props:{setActiveTool:{defaultValue:null,description:"",name:"setActiveTool",required:!0,type:{name:"(activeTool: ToolbarButtonType | null) => void"}},activeTool:{defaultValue:null,description:"",name:"activeTool",required:!0,type:{name:"ToolbarButtonType | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Toolbar/Toolbar.tsx#Toolbar"]={docgenInfo:Toolbar.__docgenInfo,name:"Toolbar",path:"src/components/Toolbar/Toolbar.tsx#Toolbar"})}catch(__react_docgen_typescript_loader_error){}},82841:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>ToolbarButton});__webpack_require__(67294);const ToolbarButton_module_toolbarButton="ujXppbMHJCmk3JGlyZOM",ToolbarButton_module_tooltip="_UXlZGNn1ArKaca1Zu1r",ToolbarButton_module_icon="iZ963DKyMvMw0fNrjtNt",ToolbarButton_module_active="jPqVIP9IWH_K8TbZzqRh";var icons=__webpack_require__(16737),jsx_runtime=__webpack_require__(85893),ToolbarButton=function ToolbarButton(_ref){var icon=_ref.icon,label=_ref.label,onClick=_ref.onClick,showActive=_ref.showActive,active=_ref.active;return(0,jsx_runtime.jsxs)("button",{type:"button",className:active&&showActive?ToolbarButton_module_toolbarButton+" "+ToolbarButton_module_active:ToolbarButton_module_toolbarButton,onClick,"aria-label":label,children:[(0,jsx_runtime.jsx)(icons.P,{icon,className:ToolbarButton_module_icon}),(0,jsx_runtime.jsx)("div",{className:ToolbarButton_module_tooltip,children:label})]})};ToolbarButton.displayName="ToolbarButton";try{ToolbarButton.displayName="ToolbarButton",ToolbarButton.__docgenInfo={description:"",displayName:"ToolbarButton",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<Element>"}},showActive:{defaultValue:null,description:"",name:"showActive",required:!0,type:{name:"boolean"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ToolbarButton/ToolbarButton.tsx#ToolbarButton"]={docgenInfo:ToolbarButton.__docgenInfo,name:"ToolbarButton",path:"src/components/ToolbarButton/ToolbarButton.tsx#ToolbarButton"})}catch(__react_docgen_typescript_loader_error){}},16737:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>Icons});__webpack_require__(67294);var jsx_runtime=__webpack_require__(85893),MapColor=function MapColor(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,jsx_runtime.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,jsx_runtime.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"})]})};MapColor.displayName="MapColor";try{MapColor.displayName="MapColor",MapColor.__docgenInfo={description:"",displayName:"MapColor",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/MapColor.tsx#MapColor"]={docgenInfo:MapColor.__docgenInfo,name:"MapColor",path:"src/icons/MapColor.tsx#MapColor"})}catch(__react_docgen_typescript_loader_error){}var CreateBox=function CreateBox(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,jsx_runtime.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,jsx_runtime.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"})]})};CreateBox.displayName="CreateBox";try{CreateBox.displayName="CreateBox",CreateBox.__docgenInfo={description:"",displayName:"CreateBox",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/CreateBox.tsx#CreateBox"]={docgenInfo:CreateBox.__docgenInfo,name:"CreateBox",path:"src/icons/CreateBox.tsx#CreateBox"})}catch(__react_docgen_typescript_loader_error){}var CreateArrow=function CreateArrow(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",fill:"#000000",children:[(0,jsx_runtime.jsx)("rect",{fill:"none",height:"24",width:"24"}),(0,jsx_runtime.jsx)("path",{d:"M15,5l-1.41,1.41L18.17,11H2V13h16.17l-4.59,4.59L15,19l7-7L15,5z"})]})};CreateArrow.displayName="CreateArrow";try{CreateArrow.displayName="CreateArrow",CreateArrow.__docgenInfo={description:"",displayName:"CreateArrow",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/CreateArrow.tsx#CreateArrow"]={docgenInfo:CreateArrow.__docgenInfo,name:"CreateArrow",path:"src/icons/CreateArrow.tsx#CreateArrow"})}catch(__react_docgen_typescript_loader_error){}var Edit=function Edit(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,jsx_runtime.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,jsx_runtime.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})]})};Edit.displayName="Edit";try{Edit.displayName="Edit",Edit.__docgenInfo={description:"",displayName:"Edit",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/Edit.tsx#Edit"]={docgenInfo:Edit.__docgenInfo,name:"Edit",path:"src/icons/Edit.tsx#Edit"})}catch(__react_docgen_typescript_loader_error){}var Delete=function Delete(_ref){var className=_ref.className;return(0,jsx_runtime.jsxs)("svg",{className,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",children:[(0,jsx_runtime.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,jsx_runtime.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})]})};Delete.displayName="Delete";try{Delete.displayName="Delete",Delete.__docgenInfo={description:"",displayName:"Delete",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/Delete.tsx#Delete"]={docgenInfo:Delete.__docgenInfo,name:"Delete",path:"src/icons/Delete.tsx#Delete"})}catch(__react_docgen_typescript_loader_error){}var Toolbar=__webpack_require__(98884),ContextMenu=__webpack_require__(69403),Icons=function Icons(_ref){var icon=_ref.icon,className=_ref.className;return icon===Toolbar.S.MapColor?(0,jsx_runtime.jsx)(MapColor,{className}):icon===Toolbar.S.CreateBox?(0,jsx_runtime.jsx)(CreateBox,{className}):icon===Toolbar.S.CreateArrow?(0,jsx_runtime.jsx)(CreateArrow,{className}):icon===ContextMenu.B.Edit?(0,jsx_runtime.jsx)(Edit,{className}):icon===ContextMenu.B.Delete?(0,jsx_runtime.jsx)(Delete,{className}):(0,jsx_runtime.jsx)(MapColor,{className})};Icons.displayName="Icons";try{Icons.displayName="Icons",Icons.__docgenInfo={description:"",displayName:"Icons",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons.tsx#Icons"]={docgenInfo:Icons.__docgenInfo,name:"Icons",path:"src/icons.tsx#Icons"})}catch(__react_docgen_typescript_loader_error){}},25740:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{uf:()=>findOccupiedCells,o2:()=>mapTopicMapItemToElement,vN:()=>positionIsFree,Ot:()=>resizeItems,eZ:()=>scaleX,$z:()=>scaleY,$G:()=>updateItem});__webpack_require__(19601),__webpack_require__(21249),__webpack_require__(57327),__webpack_require__(47042),__webpack_require__(41539),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753),__webpack_require__(9653);var lodash_intersectionby=__webpack_require__(80230),lodash_intersectionby_default=__webpack_require__.n(lodash_intersectionby);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return grid_utils_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||grid_utils_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function grid_utils_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return grid_utils_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?grid_utils_arrayLikeToArray(o,minLen):void 0}}function grid_utils_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var resizeItems=function resizeItems(items,scaleFactor){return items.map((function(item){return function resizeItem(item,scaleFactor){return Object.assign({},item,{heightPercentage:item.heightPercentage*scaleFactor,widthPercentage:item.widthPercentage*scaleFactor,xPercentagePosition:item.xPercentagePosition*scaleFactor,yPercentagePosition:item.yPercentagePosition*scaleFactor})}(item,scaleFactor)}))},calculateXPercentage=function calculateXPercentage(xPx,width){return xPx/width*100},calculateYPercentage=function calculateYPercentage(yPx,height){return yPx/height*100},updateItem=function updateItem(items,updatedItem,width,height,_ref){var newPosition=_ref.newPosition,newSize=_ref.newSize;return items.map((function(item){if(!(item.id===updatedItem.id))return item;var newItem=Object.assign({},item);return newPosition&&(newItem.xPercentagePosition=calculateXPercentage(newPosition.x,width),newItem.yPercentagePosition=calculateYPercentage(newPosition.y,height)),newSize&&(newItem.widthPercentage=calculateXPercentage(newSize.width,width),newItem.heightPercentage=calculateYPercentage(newSize.height,height)),newItem}))},findCellsElementOccupies=function findCellsElementOccupies(_ref2,gridWidth,gridHeight,gapSize,gridIndicatorSize){var id=_ref2.id,type=_ref2.type,position=_ref2.position,size=_ref2.size;return function getAllCells(gridWidth,gridHeight,gapSize,gridIndicatorSize){for(var cells=[],stepSize=gapSize+gridIndicatorSize,currentIndex=0,y=0;y<gridHeight;y+=stepSize)for(var x=0;x<gridWidth;x+=stepSize)cells.push({x,y,index:currentIndex}),currentIndex+=1;return cells}(gridWidth,gridHeight,gapSize,gridIndicatorSize).filter((function(cell){return function cellIsOccupiedByElement(elementPosition,elementSize,cellPosition){return cellPosition.x>=elementPosition.x&&cellPosition.x<=elementPosition.x+elementSize.width&&cellPosition.y>=elementPosition.y&&cellPosition.y<=elementPosition.y+elementSize.height}(position,size,cell)})).map((function(_ref3){var x=_ref3.x,y=_ref3.y,index=_ref3.index;return{occupiedById:id,occupiedByType:type,x,y,index}}))},findOccupiedCells=function findOccupiedCells(elements,gridWidth,gridHeight,gapSize,gridIndicatorSize){var _step,occupiedCells=[],_iterator=function grid_utils_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=grid_utils_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(elements);try{for(_iterator.s();!(_step=_iterator.n()).done;){var element=_step.value;occupiedCells.push.apply(occupiedCells,_toConsumableArray(findCellsElementOccupies(element,gridWidth,gridHeight,gapSize,gridIndicatorSize)))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return occupiedCells},scaleX=function scaleX(xPercentage,gridWidth){return gridWidth*xPercentage/100},scaleY=function scaleY(yPercentage,height){return height*yPercentage/100},mapTopicMapItemToElement=function mapTopicMapItemToElement(item,gridSize){return{id:item.id,type:"item",position:{x:scaleX(item.xPercentagePosition,gridSize.width),y:scaleY(item.yPercentagePosition,gridSize.height)},size:{width:scaleX(item.widthPercentage,gridSize.width),height:scaleY(item.heightPercentage,gridSize.height)}}},positionIsFree=function positionIsFree(newPosition,elementId,elementSize,gridSize,gapSize,gridIndicatorSize,occupiedCells){var cellsThisElementWillOccupy=findCellsElementOccupies({id:elementId,type:"item",position:newPosition,size:elementSize},gridSize.width,gridSize.height,gapSize,gridIndicatorSize);return!function arraysHaveSomeOverlap(arr1,arr2){return lodash_intersectionby_default()(arr1,arr2,"index").length>0}(occupiedCells.filter((function(cell){return cell.occupiedById!==elementId})),cellsThisElementWillOccupy)}},98099:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87537),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23645),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".h5p-editor-topic-map *,.h5p-editor-topic-map *::before,.h5p-editor-topic-map *::after{box-sizing:border-box}","",{version:3,sources:["webpack://./src/styles.scss"],names:[],mappings:"AACE,uFAGE,qBAAA",sourcesContent:[".h5p-editor-topic-map {\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},27049:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./components/ContextMenu/ContextMenu.stories.tsx":22351,"./components/ContextMenuButton/ContextMenuButton.stories.tsx":72652,"./components/Draggable/Draggable.stories.tsx":18184,"./components/Grid/Grid.stories.tsx":81915,"./components/GridIndicator/GridIndicator.stories.tsx":12833,"./components/MapEditorView/MapEditorView.stories.tsx":83717,"./components/Toolbar/Toolbar.stories.tsx":12047,"./components/ToolbarButton/ToolbarButton.stories.tsx":54726};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=27049},76625:module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=76625,module.exports=webpackEmptyContext},24654:()=>{}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[126],(()=>(__webpack_exec__(37707),__webpack_exec__(99669),__webpack_exec__(76986),__webpack_exec__(90168),__webpack_exec__(48165),__webpack_exec__(59746),__webpack_exec__(84873),__webpack_exec__(62853),__webpack_exec__(81953),__webpack_exec__(22609),__webpack_exec__(64049),__webpack_exec__(21424),__webpack_exec__(31861),__webpack_exec__(42126))));__webpack_require__.O()}]);