(self.webpackChunkh5p_topic_map=self.webpackChunkh5p_topic_map||[]).push([[179],{42126:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__(3012).configure)([__webpack_require__(76625),__webpack_require__(27049)],module,!1)},26663:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{parameters:()=>parameters});__webpack_require__(47941),__webpack_require__(82526),__webpack_require__(57327),__webpack_require__(38880),__webpack_require__(89554),__webpack_require__(54747),__webpack_require__(49337),__webpack_require__(33321),__webpack_require__(69070);var client_api=__webpack_require__(78880),esm=__webpack_require__(23827),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},options:{storySort:{order:["Atoms","Molecules","Organisms","Templates","Pages"]}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.kg.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return(0,client_api.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,client_api.HZ)(loader,!1)}));case"parameters":return(0,client_api.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,client_api.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,client_api._C)(enhancer)}));case"render":return(0,client_api.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,client_api.h1)(v,!1);default:return console.log(key+" was not supported :( !")}}))},76986:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__(3012)},18184:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Primary:()=>Primary});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _Draggable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39612),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Molecules/Draggable",component:_Draggable__WEBPACK_IMPORTED_MODULE_3__._,args:{updatePosition:function updatePosition(newPos){return console.info("New position",newPos)},initialXPosition:200,initialYPosition:200,height:100,width:100,updateSize:function updateSize(newSize){return console.info("New size:",newSize)},gapSize:10,gridIndicatorSize:10,gridSize:{width:200,height:100},initialHeight:45,initialWidth:95}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_Draggable__WEBPACK_IMPORTED_MODULE_3__._,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={},Primary.parameters=Object.assign({storySource:{source:"args => (\n  <Draggable {...args} />\n)"}},Primary.parameters)},30651:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Empty:()=>Empty,GridWithDraggable:()=>GridWithDraggable,default:()=>Grid_stories});__webpack_require__(19601),__webpack_require__(24812);var react=__webpack_require__(67294),GridIndicator=(__webpack_require__(21249),__webpack_require__(43290),__webpack_require__(9494),__webpack_require__(9653),__webpack_require__(79753),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(41539),__webpack_require__(32165),__webpack_require__(78783),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(87334));const Grid_module_grid="e8aFhKZF5kBFjZXkqI37";var Draggable=__webpack_require__(39612),jsx_runtime=__webpack_require__(85893);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Grid=function Grid(_ref){var numberOfColumns=_ref.numberOfColumns,numberOfRows=_ref.numberOfRows,items=_ref.items,_React$useState2=_slicedToArray(react.useState(),2),size=_React$useState2[0],setSize=_React$useState2[1],elementRef=react.useRef(null),gridIndicators=react.useMemo((function(){return Array(numberOfColumns*numberOfRows).fill(null).map((function(_,index){return(0,jsx_runtime.jsx)(GridIndicator.c,{label:"Click to create a new element",onClick:function onClick(){console.info("Click grid indicator")}},"grid-indicator-"+index)}))}),[numberOfColumns,numberOfRows]),gapSize=react.useMemo((function(){if(!elementRef.current)return 0;var columnGap=window.getComputedStyle(elementRef.current).columnGap;if(!columnGap)throw new Error("Gap was not set on the grid element.");return Number.parseInt(columnGap,10)}),[numberOfColumns,numberOfRows,elementRef.current]),getGridIndicatorSize=react.useCallback((function(){if(!elementRef.current)return 0;var gridIndicator=elementRef.current.querySelector(".grid-indicator");if(!gridIndicator)throw new Error("No grid indicators were rendered.");return gridIndicator.getBoundingClientRect().width}),[]),gridIndicatorSize=react.useMemo(getGridIndicatorSize,[gapSize,getGridIndicatorSize,elementRef.current]),scaleX=react.useCallback((function(xPercentage){if(null==size||!size.width)throw new Error("Grid has no size.");return size.width*(xPercentage/100)}),[null==size?void 0:size.width]),scaleY=react.useCallback((function(yPercentage){if(null==size||!size.height)throw new Error("Grid has no size.");return size.height*(yPercentage/100)}),[null==size?void 0:size.height]),calculateXPercentage=react.useCallback((function(xPxPosition){return size?xPxPosition/size.width:0}),[size]),calculateYPercentage=react.useCallback((function(yPxPosition){return size?yPxPosition/size.height:0}),[size]),renderChildren=react.useCallback((function(){return null==gapSize||null==gridIndicatorSize||null==size?null:items.map((function(item){return(0,jsx_runtime.jsx)(Draggable._,{initialXPosition:scaleX(item.xPercentagePosition),initialYPosition:scaleY(item.yPercentagePosition),updatePosition:function updatePosition(newPosition){item.xPercentagePosition=calculateXPercentage(newPosition.x),item.yPercentagePosition=calculateYPercentage(newPosition.y)},initialWidth:Math.abs(scaleX(item.widthPercentage)),initialHeight:Math.abs(scaleY(item.heightPercentage)),updateSize:function updateSize(newSize){item.widthPercentage=calculateXPercentage(newSize.width),item.heightPercentage=calculateXPercentage(newSize.height)},gapSize,gridIndicatorSize,gridSize:size},item.id)}))}),[calculateXPercentage,scaleX,calculateYPercentage,scaleY,gapSize,gridIndicatorSize,items,size]),resize=react.useCallback((function(){if(elementRef.current){var _elementRef$current$g=elementRef.current.getBoundingClientRect(),width=_elementRef$current$g.width,height=_elementRef$current$g.height;setSize({width,height})}}),[]);return react.useEffect((function(){var gridElement=elementRef.current;return null==gridElement||gridElement.addEventListener("resize",resize),resize(),function(){null==gridElement||gridElement.removeEventListener("resize",resize)}}),[resize]),(0,jsx_runtime.jsxs)("div",{ref:elementRef,role:"application",className:Grid_module_grid,style:{gridTemplateColumns:"repeat("+numberOfColumns+", 1fr)",gridTemplateRows:"repeat("+numberOfRows+", 1fr)",aspectRatio:numberOfColumns+" / "+numberOfRows},children:[renderChildren(),gridIndicators]})};Grid.displayName="Grid";try{Grid.displayName="Grid",Grid.__docgenInfo={description:"",displayName:"Grid",props:{numberOfColumns:{defaultValue:null,description:"",name:"numberOfColumns",required:!0,type:{name:"number"}},numberOfRows:{defaultValue:null,description:"",name:"numberOfRows",required:!0,type:{name:"number"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"TopicMapItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/Grid.tsx#Grid"]={docgenInfo:Grid.__docgenInfo,name:"Grid",path:"src/components/Grid/Grid.tsx#Grid"})}catch(__react_docgen_typescript_loader_error){}const Grid_stories={title:"Organisms/Grid",component:Grid,args:{numberOfColumns:10,numberOfRows:10,items:[]}};var Template=function Template(args){return(0,jsx_runtime.jsx)(Grid,Object.assign({},args))};Template.displayName="Template";var Empty=Template.bind({});Empty.args={};var TemplateWithDraggable=function TemplateWithDraggable(args){return(0,jsx_runtime.jsx)(Grid,Object.assign({},args))};TemplateWithDraggable.displayName="TemplateWithDraggable";var GridWithDraggable=TemplateWithDraggable.bind({});GridWithDraggable.args={items:[{id:"1",xPercentagePosition:25,yPercentagePosition:20,widthPercentage:10,heightPercentage:10},{id:"2",xPercentagePosition:25,yPercentagePosition:60,widthPercentage:65,heightPercentage:32}]},Empty.parameters=Object.assign({storySource:{source:"args => <Grid {...args} />"}},Empty.parameters),GridWithDraggable.parameters=Object.assign({storySource:{source:"args => (\n  <Grid {...args} />\n)"}},GridWithDraggable.parameters)},12833:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Primary:()=>Primary});__webpack_require__(19601),__webpack_require__(24812),__webpack_require__(67294);var _GridIndicator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(87334),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85893);const __WEBPACK_DEFAULT_EXPORT__={title:"Atoms/GridIndicator",component:_GridIndicator__WEBPACK_IMPORTED_MODULE_3__.c};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_GridIndicator__WEBPACK_IMPORTED_MODULE_3__.c,Object.assign({},args))};Template.displayName="Template";var Primary=Template.bind({});Primary.args={onClick:function onClick(){return console.info("On click")},label:"Heihei"},Primary.parameters=Object.assign({storySource:{source:"args => (\n  <GridIndicator {...args} />\n)"}},Primary.parameters)},39612:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>Draggable});__webpack_require__(19601),__webpack_require__(56977),__webpack_require__(79753),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(41539),__webpack_require__(32165),__webpack_require__(78783),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038);var react=__webpack_require__(67294),isMouseEvent=function isMouseEvent(event){return null!=event.clientX},clamp=function clamp(min,value,max){return Math.min(max,Math.max(min,value))},calculateClosestValidSizeComponent=function calculateClosestValidSizeComponent(attemptedSize,gapSize,gridIndicatorSize,gridSize){var stepSize=gridIndicatorSize+gapSize,stepNumber=attemptedSize/stepSize,smallerWidth=Math.floor(stepNumber)*stepSize-gapSize,largerWidth=Math.ceil(stepNumber)*stepSize-gapSize;return clamp(gridIndicatorSize,attemptedSize-smallerWidth<largerWidth-attemptedSize?smallerWidth:largerWidth,gridSize)},calculateClosestValidPositionComponent=function calculateClosestValidPositionComponent(position,gapSize,gridIndicatorSize,gridSizeComponent,elementSizeComponent){var stepSize=gridIndicatorSize+gapSize,closestInNegativeDirection=Math.floor(position/stepSize)*stepSize,closestInPositiveDirection=Math.ceil(position/stepSize)*stepSize,negativeIsClosest=Math.abs(position-closestInNegativeDirection)<Math.abs(position-closestInPositiveDirection);return clamp(0,negativeIsClosest?closestInNegativeDirection:closestInPositiveDirection,gridSizeComponent-elementSizeComponent)};__webpack_require__(26699);const ScaleHandle_module={scaleHandle:"FFpjsyfNPZMVo0z70G2R",scaleHandleLeft:"h3pscljbMGpLh_U2OHn4",scaleHandleRight:"CvpXtN69Y6ku_PgJ_GPH",scaleHandleTop:"jGW6rAKfnBJUMvwgoXMX",scaleHandleBottom:"UhH_LBJBSoEd_WhnxaUm"};var jsx_runtime=__webpack_require__(85893);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ScaleHandle=function ScaleHandle(_ref){var labelText=_ref.labelText,position=_ref.position,onScale=_ref.onScale,_React$useState2=_slicedToArray(react.useState(!1),2),isDragging=_React$useState2[0],setIsDragging=_React$useState2[1],elementRef=react.useRef(null),isVerticalScaleHandle=["top","bottom"].includes(position),className=ScaleHandle_module["scaleHandle"+position.toUpperCase()],startDrag=react.useCallback((function(){setIsDragging(!0)}),[]),stopDrag=react.useCallback((function(){setIsDragging(!1)}),[]),dragHorizontal=react.useCallback((function(event){if(isDragging){var pointerX=isMouseEvent(event)?event.clientX:event.touches[0].clientX;onScale(pointerX,"right"===position)}}),[isDragging,onScale,position]),dragVertical=react.useCallback((function(event){if(isDragging){var pointerY=isMouseEvent(event)?event.clientY:event.touches[0].clientY;onScale(pointerY,"bottom"===position)}}),[isDragging,onScale,position]);return react.useEffect((function(){return window.addEventListener("mouseup",stopDrag),window.addEventListener("touchend",stopDrag),function(){window.removeEventListener("mouseup",stopDrag),window.removeEventListener("touchend",stopDrag)}}),[stopDrag]),(0,jsx_runtime.jsx)("div",{ref:elementRef,role:"button",tabIndex:0,className:ScaleHandle_module.scaleHandle+" "+className,"aria-label":labelText,onMouseDown:startDrag,onTouchStart:startDrag,onMouseMove:isVerticalScaleHandle?dragVertical:dragHorizontal,onTouchMove:isVerticalScaleHandle?dragVertical:dragHorizontal})};ScaleHandle.displayName="ScaleHandle";try{ScaleHandle.displayName="ScaleHandle",ScaleHandle.__docgenInfo={description:"",displayName:"ScaleHandle",props:{labelText:{defaultValue:null,description:"",name:"labelText",required:!0,type:{name:"string"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'}]}},onScale:{defaultValue:null,description:"",name:"onScale",required:!0,type:{name:"(newValue: number, wasMovedInPositiveDirection: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ScaleHandle/ScaleHandle.tsx#ScaleHandle"]={docgenInfo:ScaleHandle.__docgenInfo,name:"ScaleHandle",path:"src/components/ScaleHandle/ScaleHandle.tsx#ScaleHandle"})}catch(__react_docgen_typescript_loader_error){}const Draggable_module_draggable="ULPwYkEYyVpUU_pxZpQD";function Draggable_slicedToArray(arr,i){return function Draggable_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Draggable_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Draggable_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Draggable_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Draggable_arrayLikeToArray(o,minLen)}(arr,i)||function Draggable_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Draggable_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var labelTexts_selected="Press arrow keys to move. Press escape to unselect.",labelTexts_notSelected="Press enter to select",Draggable=function Draggable(_ref){var initialXPosition=_ref.initialXPosition,initialYPosition=_ref.initialYPosition,updatePosition=_ref.updatePosition,initialWidth=_ref.initialWidth,initialHeight=_ref.initialHeight,updateSize=_ref.updateSize,gapSize=_ref.gapSize,gridIndicatorSize=_ref.gridIndicatorSize,gridSize=_ref.gridSize,_React$useState2=Draggable_slicedToArray(react.useState(!1),2),isDragging=_React$useState2[0],setIsDragging=_React$useState2[1],_React$useState4=Draggable_slicedToArray(react.useState(!1),2),isSelected=_React$useState4[0],setIsSelected=_React$useState4[1],_React$useState6=Draggable_slicedToArray(react.useState(labelTexts_notSelected),2),labelText=_React$useState6[0],setLabelText=_React$useState6[1],_React$useState8=Draggable_slicedToArray(react.useState(null),2),pointerStartPosition=_React$useState8[0],setPointerStartPosition=_React$useState8[1],_React$useState10=Draggable_slicedToArray(react.useState({width:calculateClosestValidSizeComponent(initialWidth,gapSize,gridIndicatorSize,gridSize.width),height:calculateClosestValidSizeComponent(initialHeight,gapSize,gridIndicatorSize,gridSize.height)}),2),_React$useState10$=_React$useState10[0],width=_React$useState10$.width,height=_React$useState10$.height,setSize=_React$useState10[1],_React$useState12=Draggable_slicedToArray(react.useState({x:calculateClosestValidPositionComponent(initialXPosition,gapSize,gridIndicatorSize,gridSize.width,width),y:calculateClosestValidPositionComponent(initialYPosition,gapSize,gridIndicatorSize,gridSize.height,height)}),2),position=_React$useState12[0],setPosition=_React$useState12[1],elementRef=react.useRef(null),startDrag=react.useCallback((function(event){var x,y;setIsDragging(!0),setIsSelected(!0),isMouseEvent(event)?(x=event.clientX,y=event.clientY):(x=event.touches[0].clientX,y=event.touches[0].clientY),setPointerStartPosition({x:x-position.x,y:y-position.y})}),[position]),getNewPosition=react.useCallback((function(x,y){return{x,y}}),[]),getClosestValidXPosition=react.useCallback((function(pointerX){return calculateClosestValidPositionComponent(pointerX,gapSize,gridIndicatorSize,gridSize.width,width)}),[gapSize,gridIndicatorSize,gridSize.width,width]),getClosestValidYPosition=react.useCallback((function(pointerY){return calculateClosestValidPositionComponent(pointerY,gapSize,gridIndicatorSize,gridSize.height,height)}),[gapSize,gridIndicatorSize,gridSize.height,height,position.y]),stopDrag=react.useCallback((function(){if(isDragging&&pointerStartPosition){var x=position.x,y=position.y,closestValidXPosition=getClosestValidXPosition(x),closestValidYPosition=getClosestValidYPosition(y);if(null!=closestValidXPosition&&null!=closestValidYPosition){var _newPosition=getNewPosition(closestValidXPosition,closestValidYPosition);setPosition(_newPosition)}setPointerStartPosition(null),setIsDragging(!1)}}),[isDragging,pointerStartPosition,position,getClosestValidXPosition,getClosestValidYPosition,getNewPosition]),drag=react.useCallback((function(event){if(isDragging&&pointerStartPosition){var pos;if(isMouseEvent(event)){pos={x:event.clientX,y:event.clientY}}else{var _event$touches$=event.touches[0];pos={x:_event$touches$.clientX,y:_event$touches$.clientY}}var newPosition=getNewPosition(pos.x-pointerStartPosition.x,pos.y-pointerStartPosition.y);setPosition(newPosition)}}),[getNewPosition,isDragging,pointerStartPosition]),preventDefault=react.useCallback((function(event){event.preventDefault()}),[]);react.useEffect((function(){setLabelText(isSelected?labelTexts_selected:labelTexts_notSelected)}),[isSelected]);react.useEffect((function(){return window.addEventListener("mouseup",stopDrag),window.addEventListener("touchend",stopDrag),function(){window.removeEventListener("mouseup",stopDrag),window.removeEventListener("touchend",stopDrag)}}),[stopDrag]);var scaleHorizontal=react.useCallback((function(pointerX,isLeft){var newWidth,newX=position.x,closestValidXPosition=getClosestValidXPosition(pointerX),xDifference=position.x-closestValidXPosition;isLeft&&(newX=xDifference),newWidth=width-xDifference;var newPosition=Object.assign({},position,{x:newX});setPosition(newPosition),setSize((function(oldSize){return Object.assign({},oldSize,{width:newWidth})}))}),[getClosestValidXPosition,position,width]),scaleVertical=react.useCallback((function(pointerY,isTop){var newHeight,newY=position.y,closestValidYPosition=getClosestValidYPosition(pointerY),yDifference=position.y-closestValidYPosition;isTop&&(newY=position.y-yDifference),newHeight=height+yDifference;var newPosition=Object.assign({},position,{y:newY});setPosition(newPosition),setSize((function(oldSize){return Object.assign({},oldSize,{height:newHeight})}))}),[getClosestValidYPosition,height,position]);return react.useEffect((function(){updateSize({width,height})}),[updateSize,width,height]),react.useEffect((function(){updatePosition(position)}),[updatePosition,position]),(0,jsx_runtime.jsxs)("button",{ref:elementRef,type:"button",draggable:"true",onDragStart:preventDefault,"aria-grabbed":isDragging,className:Draggable_module_draggable,onMouseDown:startDrag,onTouchStart:startDrag,onMouseMove:drag,style:{transform:"translateX("+position.x+"px) translateY("+position.y+"px)",width,height,zIndex:isDragging?1:void 0},"aria-label":labelText,children:["(",(position.x/(gridIndicatorSize+gapSize)).toFixed(2),","," ",(position.y/(gridIndicatorSize+gapSize)).toFixed(2),")",(0,jsx_runtime.jsx)(ScaleHandle,{position:"top",onScale:scaleVertical,labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"right",onScale:scaleHorizontal,labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"bottom",onScale:scaleVertical,labelText:""}),(0,jsx_runtime.jsx)(ScaleHandle,{position:"left",onScale:scaleHorizontal,labelText:""})]})};Draggable.displayName="Draggable";try{Draggable.displayName="Draggable",Draggable.__docgenInfo={description:"",displayName:"Draggable",props:{initialXPosition:{defaultValue:null,description:"",name:"initialXPosition",required:!0,type:{name:"number"}},initialYPosition:{defaultValue:null,description:"",name:"initialYPosition",required:!0,type:{name:"number"}},updatePosition:{defaultValue:null,description:"",name:"updatePosition",required:!0,type:{name:"(newPosition: Position) => void"}},initialWidth:{defaultValue:null,description:"",name:"initialWidth",required:!0,type:{name:"number"}},initialHeight:{defaultValue:null,description:"",name:"initialHeight",required:!0,type:{name:"number"}},updateSize:{defaultValue:null,description:"",name:"updateSize",required:!0,type:{name:"(newSize: Size) => void"}},gapSize:{defaultValue:null,description:"",name:"gapSize",required:!0,type:{name:"number"}},gridIndicatorSize:{defaultValue:null,description:"",name:"gridIndicatorSize",required:!0,type:{name:"number"}},gridSize:{defaultValue:null,description:"",name:"gridSize",required:!0,type:{name:"Size"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draggable/Draggable.tsx#Draggable"]={docgenInfo:Draggable.__docgenInfo,name:"Draggable",path:"src/components/Draggable/Draggable.tsx#Draggable"})}catch(__react_docgen_typescript_loader_error){}},87334:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>GridIndicator});__webpack_require__(67294);const GridIndicator_module_gridIndicator="_FLfbcgH1Iy0kaHKrq3j";var jsx_runtime=__webpack_require__(85893),GridIndicator=function GridIndicator(_ref){var onClick=_ref.onClick,label=_ref.label;return(0,jsx_runtime.jsx)("button",{type:"button",className:"grid-indicator "+GridIndicator_module_gridIndicator,onClick,"aria-label":label})};GridIndicator.displayName="GridIndicator";try{GridIndicator.displayName="GridIndicator",GridIndicator.__docgenInfo={description:"",displayName:"GridIndicator",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<Element>"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/GridIndicator/GridIndicator.tsx#GridIndicator"]={docgenInfo:GridIndicator.__docgenInfo,name:"GridIndicator",path:"src/components/GridIndicator/GridIndicator.tsx#GridIndicator"})}catch(__react_docgen_typescript_loader_error){}},27049:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./components/Draggable/Draggable.stories.tsx":18184,"./components/Grid/Grid.stories.tsx":30651,"./components/GridIndicator/GridIndicator.stories.tsx":12833};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=27049},76625:module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=76625,module.exports=webpackEmptyContext},24654:()=>{}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[171],(()=>(__webpack_exec__(37707),__webpack_exec__(99669),__webpack_exec__(76986),__webpack_exec__(90168),__webpack_exec__(48165),__webpack_exec__(59746),__webpack_exec__(84873),__webpack_exec__(62853),__webpack_exec__(81953),__webpack_exec__(22609),__webpack_exec__(64049),__webpack_exec__(21424),__webpack_exec__(26663),__webpack_exec__(42126))));__webpack_require__.O()}]);